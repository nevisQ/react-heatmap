{"version":3,"file":"index.js","sources":["../node_modules/heatmapjs/build/heatmap.js","../src/index.js"],"sourcesContent":["/*\n * heatmap.js v2.0.5 | JavaScript Heatmap Library\n *\n * Copyright 2008-2016 Patrick Wied <heatmapjs@patrick-wied.at> - All rights reserved.\n * Dual licensed under MIT and Beerware license\n *\n * :: 2016-09-05 01:16\n */\n;(function (name, context, factory) {\n\n  // Supports UMD. AMD, CommonJS/Node.js and browser context\n  if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else {\n    context[name] = factory();\n  }\n\n})(\"h337\", this, function () {\n\n// Heatmap Config stores default values and will be merged with instance config\nvar HeatmapConfig = {\n  defaultRadius: 40,\n  defaultRenderer: 'canvas2d',\n  defaultGradient: { 0.25: \"rgb(0,0,255)\", 0.55: \"rgb(0,255,0)\", 0.85: \"yellow\", 1.0: \"rgb(255,0,0)\"},\n  defaultMaxOpacity: 1,\n  defaultMinOpacity: 0,\n  defaultBlur: .85,\n  defaultXField: 'x',\n  defaultYField: 'y',\n  defaultValueField: 'value',\n  plugins: {}\n};\nvar Store = (function StoreClosure() {\n\n  var Store = function Store(config) {\n    this._coordinator = {};\n    this._data = [];\n    this._radi = [];\n    this._min = 10;\n    this._max = 1;\n    this._xField = config['xField'] || config.defaultXField;\n    this._yField = config['yField'] || config.defaultYField;\n    this._valueField = config['valueField'] || config.defaultValueField;\n\n    if (config[\"radius\"]) {\n      this._cfgRadius = config[\"radius\"];\n    }\n  };\n\n  var defaultRadius = HeatmapConfig.defaultRadius;\n\n  Store.prototype = {\n    // when forceRender = false -> called from setData, omits renderall event\n    _organiseData: function(dataPoint, forceRender) {\n        var x = dataPoint[this._xField];\n        var y = dataPoint[this._yField];\n        var radi = this._radi;\n        var store = this._data;\n        var max = this._max;\n        var min = this._min;\n        var value = dataPoint[this._valueField] || 1;\n        var radius = dataPoint.radius || this._cfgRadius || defaultRadius;\n\n        if (!store[x]) {\n          store[x] = [];\n          radi[x] = [];\n        }\n\n        if (!store[x][y]) {\n          store[x][y] = value;\n          radi[x][y] = radius;\n        } else {\n          store[x][y] += value;\n        }\n        var storedVal = store[x][y];\n\n        if (storedVal > max) {\n          if (!forceRender) {\n            this._max = storedVal;\n          } else {\n            this.setDataMax(storedVal);\n          }\n          return false;\n        } else if (storedVal < min) {\n          if (!forceRender) {\n            this._min = storedVal;\n          } else {\n            this.setDataMin(storedVal);\n          }\n          return false;\n        } else {\n          return {\n            x: x,\n            y: y,\n            value: value,\n            radius: radius,\n            min: min,\n            max: max\n          };\n        }\n    },\n    _unOrganizeData: function() {\n      var unorganizedData = [];\n      var data = this._data;\n      var radi = this._radi;\n\n      for (var x in data) {\n        for (var y in data[x]) {\n\n          unorganizedData.push({\n            x: x,\n            y: y,\n            radius: radi[x][y],\n            value: data[x][y]\n          });\n\n        }\n      }\n      return {\n        min: this._min,\n        max: this._max,\n        data: unorganizedData\n      };\n    },\n    _onExtremaChange: function() {\n      this._coordinator.emit('extremachange', {\n        min: this._min,\n        max: this._max\n      });\n    },\n    addData: function() {\n      if (arguments[0].length > 0) {\n        var dataArr = arguments[0];\n        var dataLen = dataArr.length;\n        while (dataLen--) {\n          this.addData.call(this, dataArr[dataLen]);\n        }\n      } else {\n        // add to store\n        var organisedEntry = this._organiseData(arguments[0], true);\n        if (organisedEntry) {\n          // if it's the first datapoint initialize the extremas with it\n          if (this._data.length === 0) {\n            this._min = this._max = organisedEntry.value;\n          }\n          this._coordinator.emit('renderpartial', {\n            min: this._min,\n            max: this._max,\n            data: [organisedEntry]\n          });\n        }\n      }\n      return this;\n    },\n    setData: function(data) {\n      var dataPoints = data.data;\n      var pointsLen = dataPoints.length;\n\n\n      // reset data arrays\n      this._data = [];\n      this._radi = [];\n\n      for(var i = 0; i < pointsLen; i++) {\n        this._organiseData(dataPoints[i], false);\n      }\n      this._max = data.max;\n      this._min = data.min || 0;\n\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    removeData: function() {\n      // TODO: implement\n    },\n    setDataMax: function(max) {\n      this._max = max;\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    setDataMin: function(min) {\n      this._min = min;\n      this._onExtremaChange();\n      this._coordinator.emit('renderall', this._getInternalData());\n      return this;\n    },\n    setCoordinator: function(coordinator) {\n      this._coordinator = coordinator;\n    },\n    _getInternalData: function() {\n      return {\n        max: this._max,\n        min: this._min,\n        data: this._data,\n        radi: this._radi\n      };\n    },\n    getData: function() {\n      return this._unOrganizeData();\n    }/*,\n\n      TODO: rethink.\n\n    getValueAt: function(point) {\n      var value;\n      var radius = 100;\n      var x = point.x;\n      var y = point.y;\n      var data = this._data;\n\n      if (data[x] && data[x][y]) {\n        return data[x][y];\n      } else {\n        var values = [];\n        // radial search for datapoints based on default radius\n        for(var distance = 1; distance < radius; distance++) {\n          var neighbors = distance * 2 +1;\n          var startX = x - distance;\n          var startY = y - distance;\n\n          for(var i = 0; i < neighbors; i++) {\n            for (var o = 0; o < neighbors; o++) {\n              if ((i == 0 || i == neighbors-1) || (o == 0 || o == neighbors-1)) {\n                if (data[startY+i] && data[startY+i][startX+o]) {\n                  values.push(data[startY+i][startX+o]);\n                }\n              } else {\n                continue;\n              }\n            }\n          }\n        }\n        if (values.length > 0) {\n          return Math.max.apply(Math, values);\n        }\n      }\n      return false;\n    }*/\n  };\n\n\n  return Store;\n})();\n\nvar Canvas2dRenderer = (function Canvas2dRendererClosure() {\n\n  var _getColorPalette = function(config) {\n    var gradientConfig = config.gradient || config.defaultGradient;\n    var paletteCanvas = document.createElement('canvas');\n    var paletteCtx = paletteCanvas.getContext('2d');\n\n    paletteCanvas.width = 256;\n    paletteCanvas.height = 1;\n\n    var gradient = paletteCtx.createLinearGradient(0, 0, 256, 1);\n    for (var key in gradientConfig) {\n      gradient.addColorStop(key, gradientConfig[key]);\n    }\n\n    paletteCtx.fillStyle = gradient;\n    paletteCtx.fillRect(0, 0, 256, 1);\n\n    return paletteCtx.getImageData(0, 0, 256, 1).data;\n  };\n\n  var _getPointTemplate = function(radius, blurFactor) {\n    var tplCanvas = document.createElement('canvas');\n    var tplCtx = tplCanvas.getContext('2d');\n    var x = radius;\n    var y = radius;\n    tplCanvas.width = tplCanvas.height = radius*2;\n\n    if (blurFactor == 1) {\n      tplCtx.beginPath();\n      tplCtx.arc(x, y, radius, 0, 2 * Math.PI, false);\n      tplCtx.fillStyle = 'rgba(0,0,0,1)';\n      tplCtx.fill();\n    } else {\n      var gradient = tplCtx.createRadialGradient(x, y, radius*blurFactor, x, y, radius);\n      gradient.addColorStop(0, 'rgba(0,0,0,1)');\n      gradient.addColorStop(1, 'rgba(0,0,0,0)');\n      tplCtx.fillStyle = gradient;\n      tplCtx.fillRect(0, 0, 2*radius, 2*radius);\n    }\n\n\n\n    return tplCanvas;\n  };\n\n  var _prepareData = function(data) {\n    var renderData = [];\n    var min = data.min;\n    var max = data.max;\n    var radi = data.radi;\n    var data = data.data;\n\n    var xValues = Object.keys(data);\n    var xValuesLen = xValues.length;\n\n    while(xValuesLen--) {\n      var xValue = xValues[xValuesLen];\n      var yValues = Object.keys(data[xValue]);\n      var yValuesLen = yValues.length;\n      while(yValuesLen--) {\n        var yValue = yValues[yValuesLen];\n        var value = data[xValue][yValue];\n        var radius = radi[xValue][yValue];\n        renderData.push({\n          x: xValue,\n          y: yValue,\n          value: value,\n          radius: radius\n        });\n      }\n    }\n\n    return {\n      min: min,\n      max: max,\n      data: renderData\n    };\n  };\n\n\n  function Canvas2dRenderer(config) {\n    var container = config.container;\n    var shadowCanvas = this.shadowCanvas = document.createElement('canvas');\n    var canvas = this.canvas = config.canvas || document.createElement('canvas');\n    var renderBoundaries = this._renderBoundaries = [10000, 10000, 0, 0];\n\n    var computed = getComputedStyle(config.container) || {};\n\n    canvas.className = 'heatmap-canvas';\n\n    this._width = canvas.width = shadowCanvas.width = config.width || +(computed.width.replace(/px/,''));\n    this._height = canvas.height = shadowCanvas.height = config.height || +(computed.height.replace(/px/,''));\n\n    this.shadowCtx = shadowCanvas.getContext('2d');\n    this.ctx = canvas.getContext('2d');\n\n    // @TODO:\n    // conditional wrapper\n\n    canvas.style.cssText = shadowCanvas.style.cssText = 'position:absolute;left:0;top:0;';\n\n    container.style.position = 'relative';\n    container.appendChild(canvas);\n\n    this._palette = _getColorPalette(config);\n    this._templates = {};\n\n    this._setStyles(config);\n  };\n\n  Canvas2dRenderer.prototype = {\n    renderPartial: function(data) {\n      if (data.data.length > 0) {\n        this._drawAlpha(data);\n        this._colorize();\n      }\n    },\n    renderAll: function(data) {\n      // reset render boundaries\n      this._clear();\n      if (data.data.length > 0) {\n        this._drawAlpha(_prepareData(data));\n        this._colorize();\n      }\n    },\n    _updateGradient: function(config) {\n      this._palette = _getColorPalette(config);\n    },\n    updateConfig: function(config) {\n      if (config['gradient']) {\n        this._updateGradient(config);\n      }\n      this._setStyles(config);\n    },\n    setDimensions: function(width, height) {\n      this._width = width;\n      this._height = height;\n      this.canvas.width = this.shadowCanvas.width = width;\n      this.canvas.height = this.shadowCanvas.height = height;\n    },\n    _clear: function() {\n      this.shadowCtx.clearRect(0, 0, this._width, this._height);\n      this.ctx.clearRect(0, 0, this._width, this._height);\n    },\n    _setStyles: function(config) {\n      this._blur = (config.blur == 0)?0:(config.blur || config.defaultBlur);\n\n      if (config.backgroundColor) {\n        this.canvas.style.backgroundColor = config.backgroundColor;\n      }\n\n      this._width = this.canvas.width = this.shadowCanvas.width = config.width || this._width;\n      this._height = this.canvas.height = this.shadowCanvas.height = config.height || this._height;\n\n\n      this._opacity = (config.opacity || 0) * 255;\n      this._maxOpacity = (config.maxOpacity || config.defaultMaxOpacity) * 255;\n      this._minOpacity = (config.minOpacity || config.defaultMinOpacity) * 255;\n      this._useGradientOpacity = !!config.useGradientOpacity;\n    },\n    _drawAlpha: function(data) {\n      var min = this._min = data.min;\n      var max = this._max = data.max;\n      var data = data.data || [];\n      var dataLen = data.length;\n      // on a point basis?\n      var blur = 1 - this._blur;\n\n      while(dataLen--) {\n\n        var point = data[dataLen];\n\n        var x = point.x;\n        var y = point.y;\n        var radius = point.radius;\n        // if value is bigger than max\n        // use max as value\n        var value = Math.min(point.value, max);\n        var rectX = x - radius;\n        var rectY = y - radius;\n        var shadowCtx = this.shadowCtx;\n\n\n\n\n        var tpl;\n        if (!this._templates[radius]) {\n          this._templates[radius] = tpl = _getPointTemplate(radius, blur);\n        } else {\n          tpl = this._templates[radius];\n        }\n        // value from minimum / value range\n        // => [0, 1]\n        var templateAlpha = (value-min)/(max-min);\n        // this fixes #176: small values are not visible because globalAlpha < .01 cannot be read from imageData\n        shadowCtx.globalAlpha = templateAlpha < .01 ? .01 : templateAlpha;\n\n        shadowCtx.drawImage(tpl, rectX, rectY);\n\n        // update renderBoundaries\n        if (rectX < this._renderBoundaries[0]) {\n            this._renderBoundaries[0] = rectX;\n          }\n          if (rectY < this._renderBoundaries[1]) {\n            this._renderBoundaries[1] = rectY;\n          }\n          if (rectX + 2*radius > this._renderBoundaries[2]) {\n            this._renderBoundaries[2] = rectX + 2*radius;\n          }\n          if (rectY + 2*radius > this._renderBoundaries[3]) {\n            this._renderBoundaries[3] = rectY + 2*radius;\n          }\n\n      }\n    },\n    _colorize: function() {\n      var x = this._renderBoundaries[0];\n      var y = this._renderBoundaries[1];\n      var width = this._renderBoundaries[2] - x;\n      var height = this._renderBoundaries[3] - y;\n      var maxWidth = this._width;\n      var maxHeight = this._height;\n      var opacity = this._opacity;\n      var maxOpacity = this._maxOpacity;\n      var minOpacity = this._minOpacity;\n      var useGradientOpacity = this._useGradientOpacity;\n\n      if (x < 0) {\n        x = 0;\n      }\n      if (y < 0) {\n        y = 0;\n      }\n      if (x + width > maxWidth) {\n        width = maxWidth - x;\n      }\n      if (y + height > maxHeight) {\n        height = maxHeight - y;\n      }\n\n      var img = this.shadowCtx.getImageData(x, y, width, height);\n      var imgData = img.data;\n      var len = imgData.length;\n      var palette = this._palette;\n\n\n      for (var i = 3; i < len; i+= 4) {\n        var alpha = imgData[i];\n        var offset = alpha * 4;\n\n\n        if (!offset) {\n          continue;\n        }\n\n        var finalAlpha;\n        if (opacity > 0) {\n          finalAlpha = opacity;\n        } else {\n          if (alpha < maxOpacity) {\n            if (alpha < minOpacity) {\n              finalAlpha = minOpacity;\n            } else {\n              finalAlpha = alpha;\n            }\n          } else {\n            finalAlpha = maxOpacity;\n          }\n        }\n\n        imgData[i-3] = palette[offset];\n        imgData[i-2] = palette[offset + 1];\n        imgData[i-1] = palette[offset + 2];\n        imgData[i] = useGradientOpacity ? palette[offset + 3] : finalAlpha;\n\n      }\n\n      this.ctx.putImageData(img, x, y);\n\n      this._renderBoundaries = [1000, 1000, 0, 0];\n\n    },\n    getValueAt: function(point) {\n      var value;\n      var shadowCtx = this.shadowCtx;\n      var img = shadowCtx.getImageData(point.x, point.y, 1, 1);\n      var data = img.data[3];\n      var max = this._max;\n      var min = this._min;\n\n      value = (Math.abs(max-min) * (data/255)) >> 0;\n\n      return value;\n    },\n    getDataURL: function() {\n      return this.canvas.toDataURL();\n    }\n  };\n\n\n  return Canvas2dRenderer;\n})();\n\n\nvar Renderer = (function RendererClosure() {\n\n  var rendererFn = false;\n\n  if (HeatmapConfig['defaultRenderer'] === 'canvas2d') {\n    rendererFn = Canvas2dRenderer;\n  }\n\n  return rendererFn;\n})();\n\n\nvar Util = {\n  merge: function() {\n    var merged = {};\n    var argsLen = arguments.length;\n    for (var i = 0; i < argsLen; i++) {\n      var obj = arguments[i]\n      for (var key in obj) {\n        merged[key] = obj[key];\n      }\n    }\n    return merged;\n  }\n};\n// Heatmap Constructor\nvar Heatmap = (function HeatmapClosure() {\n\n  var Coordinator = (function CoordinatorClosure() {\n\n    function Coordinator() {\n      this.cStore = {};\n    };\n\n    Coordinator.prototype = {\n      on: function(evtName, callback, scope) {\n        var cStore = this.cStore;\n\n        if (!cStore[evtName]) {\n          cStore[evtName] = [];\n        }\n        cStore[evtName].push((function(data) {\n            return callback.call(scope, data);\n        }));\n      },\n      emit: function(evtName, data) {\n        var cStore = this.cStore;\n        if (cStore[evtName]) {\n          var len = cStore[evtName].length;\n          for (var i=0; i<len; i++) {\n            var callback = cStore[evtName][i];\n            callback(data);\n          }\n        }\n      }\n    };\n\n    return Coordinator;\n  })();\n\n\n  var _connect = function(scope) {\n    var renderer = scope._renderer;\n    var coordinator = scope._coordinator;\n    var store = scope._store;\n\n    coordinator.on('renderpartial', renderer.renderPartial, renderer);\n    coordinator.on('renderall', renderer.renderAll, renderer);\n    coordinator.on('extremachange', function(data) {\n      scope._config.onExtremaChange &&\n      scope._config.onExtremaChange({\n        min: data.min,\n        max: data.max,\n        gradient: scope._config['gradient'] || scope._config['defaultGradient']\n      });\n    });\n    store.setCoordinator(coordinator);\n  };\n\n\n  function Heatmap() {\n    var config = this._config = Util.merge(HeatmapConfig, arguments[0] || {});\n    this._coordinator = new Coordinator();\n    if (config['plugin']) {\n      var pluginToLoad = config['plugin'];\n      if (!HeatmapConfig.plugins[pluginToLoad]) {\n        throw new Error('Plugin \\''+ pluginToLoad + '\\' not found. Maybe it was not registered.');\n      } else {\n        var plugin = HeatmapConfig.plugins[pluginToLoad];\n        // set plugin renderer and store\n        this._renderer = new plugin.renderer(config);\n        this._store = new plugin.store(config);\n      }\n    } else {\n      this._renderer = new Renderer(config);\n      this._store = new Store(config);\n    }\n    _connect(this);\n  };\n\n  // @TODO:\n  // add API documentation\n  Heatmap.prototype = {\n    addData: function() {\n      this._store.addData.apply(this._store, arguments);\n      return this;\n    },\n    removeData: function() {\n      this._store.removeData && this._store.removeData.apply(this._store, arguments);\n      return this;\n    },\n    setData: function() {\n      this._store.setData.apply(this._store, arguments);\n      return this;\n    },\n    setDataMax: function() {\n      this._store.setDataMax.apply(this._store, arguments);\n      return this;\n    },\n    setDataMin: function() {\n      this._store.setDataMin.apply(this._store, arguments);\n      return this;\n    },\n    configure: function(config) {\n      this._config = Util.merge(this._config, config);\n      this._renderer.updateConfig(this._config);\n      this._coordinator.emit('renderall', this._store._getInternalData());\n      return this;\n    },\n    repaint: function() {\n      this._coordinator.emit('renderall', this._store._getInternalData());\n      return this;\n    },\n    getData: function() {\n      return this._store.getData();\n    },\n    getDataURL: function() {\n      return this._renderer.getDataURL();\n    },\n    getValueAt: function(point) {\n\n      if (this._store.getValueAt) {\n        return this._store.getValueAt(point);\n      } else  if (this._renderer.getValueAt) {\n        return this._renderer.getValueAt(point);\n      } else {\n        return null;\n      }\n    }\n  };\n\n  return Heatmap;\n\n})();\n\n\n// core\nvar heatmapFactory = {\n  create: function(config) {\n    return new Heatmap(config);\n  },\n  register: function(pluginKey, plugin) {\n    HeatmapConfig.plugins[pluginKey] = plugin;\n  }\n};\n\nreturn heatmapFactory;\n\n\n});\n","import React, { Component } from 'react'\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom'\nimport Heatmap from 'heatmapjs/build/heatmap.js'\n\nexport default class ReactHeatmap extends Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentDidMount() {\n\t\tthis.heatmap = Heatmap.create({\n\t\t\tcontainer: ReactDOM.findDOMNode(this),\n\t\t\t...this.props,\n\t\t});\n\t\tthis.heatmap.setData({ ...this.props });\n\t}\n\n\tcomponentWillReceiveProps(newProps) {\n\t\tthis.heatmap.setData({ ...newProps});\n\t}\n\n\trender() {\n\t\treturn (\n\t\t\t<div style={{ width: '100%', height: '100%' }}></div>\n\t\t);\n\t}\n}\n\nReactHeatmap.propTypes = {\n\tradius: PropTypes.number,\n\tdata: PropTypes.array,\n\tunit: PropTypes.string\n}\n\nReactHeatmap.defaultProps = {\n\tdata: [],\n\tgradient: {\n\t\t'.3': '#8f9bc9',\n\t\t'.85': '#596590',\n\t\t'.95': '#47557e'\n\t},\n\tradius: 20\n}"],"names":["this","ReactHeatmap","props","heatmap","Heatmap","create","ReactDOM","findDOMNode","setData","newProps","React","width","height","Component","propTypes","PropTypes","number","array","string","defaultProps"],"mappings":";;;;;;;;;;;;;;;;AAAA,AAQC,CAAC,UAAU,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE;;;EAGlC,IAAI,AAAiC,MAAM,CAAC,OAAO,EAAE;IACnD,cAAc,GAAG,OAAO,EAAE,CAAC;GAC5B,MAAM,AAEA;IACL,OAAO,CAAC,IAAI,CAAC,GAAG,OAAO,EAAE,CAAC;GAC3B;;CAEF,EAAE,MAAM,EAAEA,cAAI,EAAE,YAAY;;;AAG7B,IAAI,aAAa,GAAG;EAClB,aAAa,EAAE,EAAE;EACjB,eAAe,EAAE,UAAU;EAC3B,eAAe,EAAE,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,QAAQ,EAAE,GAAG,EAAE,cAAc,CAAC;EACnG,iBAAiB,EAAE,CAAC;EACpB,iBAAiB,EAAE,CAAC;EACpB,WAAW,EAAE,GAAG;EAChB,aAAa,EAAE,GAAG;EAClB,aAAa,EAAE,GAAG;EAClB,iBAAiB,EAAE,OAAO;EAC1B,OAAO,EAAE,EAAE;CACZ,CAAC;AACF,IAAI,KAAK,GAAG,CAAC,SAAS,YAAY,GAAG;;EAEnC,IAAI,KAAK,GAAG,SAAS,KAAK,CAAC,MAAM,EAAE;IACjC,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;IACvB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC;IACf,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;IACd,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,aAAa,CAAC;IACxD,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,CAAC,IAAI,MAAM,CAAC,aAAa,CAAC;IACxD,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,YAAY,CAAC,IAAI,MAAM,CAAC,iBAAiB,CAAC;;IAEpE,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE;MACpB,IAAI,CAAC,UAAU,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;KACpC;GACF,CAAC;;EAEF,IAAI,aAAa,GAAG,aAAa,CAAC,aAAa,CAAC;;EAEhD,KAAK,CAAC,SAAS,GAAG;;IAEhB,aAAa,EAAE,SAAS,SAAS,EAAE,WAAW,EAAE;QAC5C,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChC,IAAI,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;QAChC,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;QACtB,IAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACvB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;QACpB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;QACpB,IAAI,KAAK,GAAG,SAAS,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC7C,IAAI,MAAM,GAAG,SAAS,CAAC,MAAM,IAAI,IAAI,CAAC,UAAU,IAAI,aAAa,CAAC;;QAElE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE;UACb,KAAK,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;UACd,IAAI,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;SACd;;QAED,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UAChB,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;UACpB,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,MAAM,CAAC;SACrB,MAAM;UACL,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,CAAC;SACtB;QACD,IAAI,SAAS,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;QAE5B,IAAI,SAAS,GAAG,GAAG,EAAE;UACnB,IAAI,CAAC,WAAW,EAAE;YAChB,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;WACvB,MAAM;YACL,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;WAC5B;UACD,OAAO,KAAK,CAAC;SACd,MAAM,IAAI,SAAS,GAAG,GAAG,EAAE;UAC1B,IAAI,CAAC,WAAW,EAAE;YAChB,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC;WACvB,MAAM;YACL,IAAI,CAAC,UAAU,CAAC,SAAS,CAAC,CAAC;WAC5B;UACD,OAAO,KAAK,CAAC;SACd,MAAM;UACL,OAAO;YACL,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,KAAK,EAAE,KAAK;YACZ,MAAM,EAAE,MAAM;YACd,GAAG,EAAE,GAAG;YACR,GAAG,EAAE,GAAG;WACT,CAAC;SACH;KACJ;IACD,eAAe,EAAE,WAAW;MAC1B,IAAI,eAAe,GAAG,EAAE,CAAC;MACzB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;MACtB,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC;;MAEtB,KAAK,IAAI,CAAC,IAAI,IAAI,EAAE;QAClB,KAAK,IAAI,CAAC,IAAI,IAAI,CAAC,CAAC,CAAC,EAAE;;UAErB,eAAe,CAAC,IAAI,CAAC;YACnB,CAAC,EAAE,CAAC;YACJ,CAAC,EAAE,CAAC;YACJ,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;WAClB,CAAC,CAAC;;SAEJ;OACF;MACD,OAAO;QACL,GAAG,EAAE,IAAI,CAAC,IAAI;QACd,GAAG,EAAE,IAAI,CAAC,IAAI;QACd,IAAI,EAAE,eAAe;OACtB,CAAC;KACH;IACD,gBAAgB,EAAE,WAAW;MAC3B,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE;QACtC,GAAG,EAAE,IAAI,CAAC,IAAI;QACd,GAAG,EAAE,IAAI,CAAC,IAAI;OACf,CAAC,CAAC;KACJ;IACD,OAAO,EAAE,WAAW;MAClB,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,EAAE;QAC3B,IAAI,OAAO,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;QAC3B,IAAI,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC;QAC7B,OAAO,OAAO,EAAE,EAAE;UAChB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,CAAC;SAC3C;OACF,MAAM;;QAEL,IAAI,cAAc,GAAG,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC;QAC5D,IAAI,cAAc,EAAE;;UAElB,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,EAAE;YAC3B,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,GAAG,cAAc,CAAC,KAAK,CAAC;WAC9C;UACD,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,eAAe,EAAE;YACtC,GAAG,EAAE,IAAI,CAAC,IAAI;YACd,GAAG,EAAE,IAAI,CAAC,IAAI;YACd,IAAI,EAAE,CAAC,cAAc,CAAC;WACvB,CAAC,CAAC;SACJ;OACF;MACD,OAAO,IAAI,CAAC;KACb;IACD,OAAO,EAAE,SAAS,IAAI,EAAE;MACtB,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC;MAC3B,IAAI,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC;;;;MAIlC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;MAChB,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;;MAEhB,IAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,EAAE,CAAC,EAAE,EAAE;QACjC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC;OAC1C;MACD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;MACrB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC;;MAE1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;MACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;MAC7D,OAAO,IAAI,CAAC;KACb;IACD,UAAU,EAAE,WAAW;;KAEtB;IACD,UAAU,EAAE,SAAS,GAAG,EAAE;MACxB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;MAChB,IAAI,CAAC,gBAAgB,EAAE,CAAC;MACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;MAC7D,OAAO,IAAI,CAAC;KACb;IACD,UAAU,EAAE,SAAS,GAAG,EAAE;MACxB,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;MAChB,IAAI,CAAC,gBAAgB,EAAE,CAAC;MACxB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,gBAAgB,EAAE,CAAC,CAAC;MAC7D,OAAO,IAAI,CAAC;KACb;IACD,cAAc,EAAE,SAAS,WAAW,EAAE;MACpC,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;KACjC;IACD,gBAAgB,EAAE,WAAW;MAC3B,OAAO;QACL,GAAG,EAAE,IAAI,CAAC,IAAI;QACd,GAAG,EAAE,IAAI,CAAC,IAAI;QACd,IAAI,EAAE,IAAI,CAAC,KAAK;QAChB,IAAI,EAAE,IAAI,CAAC,KAAK;OACjB,CAAC;KACH;IACD,OAAO,EAAE,WAAW;MAClB,OAAO,IAAI,CAAC,eAAe,EAAE,CAAC;KAC/B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;GAuCF,CAAC;;;EAGF,OAAO,KAAK,CAAC;CACd,GAAG,CAAC;;AAEL,IAAI,gBAAgB,GAAG,CAAC,SAAS,uBAAuB,GAAG;;EAEzD,IAAI,gBAAgB,GAAG,SAAS,MAAM,EAAE;IACtC,IAAI,cAAc,GAAG,MAAM,CAAC,QAAQ,IAAI,MAAM,CAAC,eAAe,CAAC;IAC/D,IAAI,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACrD,IAAI,UAAU,GAAG,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;IAEhD,aAAa,CAAC,KAAK,GAAG,GAAG,CAAC;IAC1B,aAAa,CAAC,MAAM,GAAG,CAAC,CAAC;;IAEzB,IAAI,QAAQ,GAAG,UAAU,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;IAC7D,KAAK,IAAI,GAAG,IAAI,cAAc,EAAE;MAC9B,QAAQ,CAAC,YAAY,CAAC,GAAG,EAAE,cAAc,CAAC,GAAG,CAAC,CAAC,CAAC;KACjD;;IAED,UAAU,CAAC,SAAS,GAAG,QAAQ,CAAC;IAChC,UAAU,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC;;IAElC,OAAO,UAAU,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;GACnD,CAAC;;EAEF,IAAI,iBAAiB,GAAG,SAAS,MAAM,EAAE,UAAU,EAAE;IACnD,IAAI,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACjD,IAAI,MAAM,GAAG,SAAS,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IACxC,IAAI,CAAC,GAAG,MAAM,CAAC;IACf,IAAI,CAAC,GAAG,MAAM,CAAC;IACf,SAAS,CAAC,KAAK,GAAG,SAAS,CAAC,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC;;IAE9C,IAAI,UAAU,IAAI,CAAC,EAAE;MACnB,MAAM,CAAC,SAAS,EAAE,CAAC;MACnB,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,EAAE,EAAE,KAAK,CAAC,CAAC;MAChD,MAAM,CAAC,SAAS,GAAG,eAAe,CAAC;MACnC,MAAM,CAAC,IAAI,EAAE,CAAC;KACf,MAAM;MACL,IAAI,QAAQ,GAAG,MAAM,CAAC,oBAAoB,CAAC,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,CAAC;MAClF,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;MAC1C,QAAQ,CAAC,YAAY,CAAC,CAAC,EAAE,eAAe,CAAC,CAAC;MAC1C,MAAM,CAAC,SAAS,GAAG,QAAQ,CAAC;MAC5B,MAAM,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC;KAC3C;;;;IAID,OAAO,SAAS,CAAC;GAClB,CAAC;;EAEF,IAAI,YAAY,GAAG,SAAS,IAAI,EAAE;IAChC,IAAI,UAAU,GAAG,EAAE,CAAC;IACpB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IACnB,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;IACnB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;IACrB,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;;IAErB,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IAChC,IAAI,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC;;IAEhC,MAAM,UAAU,EAAE,EAAE;MAClB,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;MACjC,IAAI,OAAO,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;MACxC,IAAI,UAAU,GAAG,OAAO,CAAC,MAAM,CAAC;MAChC,MAAM,UAAU,EAAE,EAAE;QAClB,IAAI,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC,CAAC;QACjC,IAAI,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;QACjC,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,CAAC;QAClC,UAAU,CAAC,IAAI,CAAC;UACd,CAAC,EAAE,MAAM;UACT,CAAC,EAAE,MAAM;UACT,KAAK,EAAE,KAAK;UACZ,MAAM,EAAE,MAAM;SACf,CAAC,CAAC;OACJ;KACF;;IAED,OAAO;MACL,GAAG,EAAE,GAAG;MACR,GAAG,EAAE,GAAG;MACR,IAAI,EAAE,UAAU;KACjB,CAAC;GACH,CAAC;;;EAGF,SAAS,gBAAgB,CAAC,MAAM,EAAE;IAChC,IAAI,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC;IACjC,IAAI,YAAY,GAAG,IAAI,CAAC,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACxE,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC7E,IAAI,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;IAErE,IAAI,QAAQ,GAAG,gBAAgB,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC;;IAExD,MAAM,CAAC,SAAS,GAAG,gBAAgB,CAAC;;IAEpC,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC,KAAK,GAAG,YAAY,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,IAAI,EAAE,QAAQ,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;IACrG,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC,MAAM,GAAG,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,EAAE,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAC;;IAE1G,IAAI,CAAC,SAAS,GAAG,YAAY,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;IAC/C,IAAI,CAAC,GAAG,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;;;;;IAKnC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,YAAY,CAAC,KAAK,CAAC,OAAO,GAAG,iCAAiC,CAAC;;IAEtF,SAAS,CAAC,KAAK,CAAC,QAAQ,GAAG,UAAU,CAAC;IACtC,SAAS,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;;IAE9B,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;IACzC,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;;IAErB,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;GACzB,AACH;EACE,gBAAgB,CAAC,SAAS,GAAG;IAC3B,aAAa,EAAE,SAAS,IAAI,EAAE;MAC5B,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;QACxB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;QACtB,IAAI,CAAC,SAAS,EAAE,CAAC;OAClB;KACF;IACD,SAAS,EAAE,SAAS,IAAI,EAAE;;MAExB,IAAI,CAAC,MAAM,EAAE,CAAC;MACd,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;QACxB,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC,CAAC;QACpC,IAAI,CAAC,SAAS,EAAE,CAAC;OAClB;KACF;IACD,eAAe,EAAE,SAAS,MAAM,EAAE;MAChC,IAAI,CAAC,QAAQ,GAAG,gBAAgB,CAAC,MAAM,CAAC,CAAC;KAC1C;IACD,YAAY,EAAE,SAAS,MAAM,EAAE;MAC7B,IAAI,MAAM,CAAC,UAAU,CAAC,EAAE;QACtB,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;OAC9B;MACD,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;KACzB;IACD,aAAa,EAAE,SAAS,KAAK,EAAE,MAAM,EAAE;MACrC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;MACpB,IAAI,CAAC,OAAO,GAAG,MAAM,CAAC;MACtB,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,KAAK,CAAC;MACpD,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC;KACxD;IACD,MAAM,EAAE,WAAW;MACjB,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;MAC1D,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;KACrD;IACD,UAAU,EAAE,SAAS,MAAM,EAAE;MAC3B,IAAI,CAAC,KAAK,GAAG,CAAC,MAAM,CAAC,IAAI,IAAI,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,IAAI,IAAI,MAAM,CAAC,WAAW,CAAC,CAAC;;MAEtE,IAAI,MAAM,CAAC,eAAe,EAAE;QAC1B,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,eAAe,GAAG,MAAM,CAAC,eAAe,CAAC;OAC5D;;MAED,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,KAAK,GAAG,MAAM,CAAC,KAAK,IAAI,IAAI,CAAC,MAAM,CAAC;MACxF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC;;;MAG7F,IAAI,CAAC,QAAQ,GAAG,CAAC,MAAM,CAAC,OAAO,IAAI,CAAC,IAAI,GAAG,CAAC;MAC5C,IAAI,CAAC,WAAW,GAAG,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,iBAAiB,IAAI,GAAG,CAAC;MACzE,IAAI,CAAC,WAAW,GAAG,CAAC,MAAM,CAAC,UAAU,IAAI,MAAM,CAAC,iBAAiB,IAAI,GAAG,CAAC;MACzE,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC;KACxD;IACD,UAAU,EAAE,SAAS,IAAI,EAAE;MACzB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;MAC/B,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;MAC/B,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,EAAE,CAAC;MAC3B,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC;;MAE1B,IAAI,IAAI,GAAG,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;;MAE1B,MAAM,OAAO,EAAE,EAAE;;QAEf,IAAI,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC;;QAE1B,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAChB,IAAI,CAAC,GAAG,KAAK,CAAC,CAAC,CAAC;QAChB,IAAI,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;;;QAG1B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;QACvC,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,CAAC;QACvB,IAAI,KAAK,GAAG,CAAC,GAAG,MAAM,CAAC;QACvB,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;;;;;QAK/B,IAAI,GAAG,CAAC;QACR,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAE;UAC5B,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,GAAG,GAAG,GAAG,iBAAiB,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;SACjE,MAAM;UACL,GAAG,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;SAC/B;;;QAGD,IAAI,aAAa,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;;QAE1C,SAAS,CAAC,WAAW,GAAG,aAAa,GAAG,GAAG,GAAG,GAAG,GAAG,aAAa,CAAC;;QAElE,SAAS,CAAC,SAAS,CAAC,GAAG,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;;;QAGvC,IAAI,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE;YACnC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;WACnC;UACD,IAAI,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE;YACrC,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;WACnC;UACD,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE;YAChD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC;WAC9C;UACD,IAAI,KAAK,GAAG,CAAC,CAAC,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAAE;YAChD,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC;WAC9C;;OAEJ;KACF;IACD,SAAS,EAAE,WAAW;MACpB,IAAI,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;MAClC,IAAI,CAAC,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC;MAClC,IAAI,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;MAC1C,IAAI,MAAM,GAAG,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;MAC3C,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC;MAC3B,IAAI,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC;MAC7B,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;MAC5B,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;MAClC,IAAI,UAAU,GAAG,IAAI,CAAC,WAAW,CAAC;MAClC,IAAI,kBAAkB,GAAG,IAAI,CAAC,mBAAmB,CAAC;;MAElD,IAAI,CAAC,GAAG,CAAC,EAAE;QACT,CAAC,GAAG,CAAC,CAAC;OACP;MACD,IAAI,CAAC,GAAG,CAAC,EAAE;QACT,CAAC,GAAG,CAAC,CAAC;OACP;MACD,IAAI,CAAC,GAAG,KAAK,GAAG,QAAQ,EAAE;QACxB,KAAK,GAAG,QAAQ,GAAG,CAAC,CAAC;OACtB;MACD,IAAI,CAAC,GAAG,MAAM,GAAG,SAAS,EAAE;QAC1B,MAAM,GAAG,SAAS,GAAG,CAAC,CAAC;OACxB;;MAED,IAAI,GAAG,GAAG,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;MAC3D,IAAI,OAAO,GAAG,GAAG,CAAC,IAAI,CAAC;MACvB,IAAI,GAAG,GAAG,OAAO,CAAC,MAAM,CAAC;MACzB,IAAI,OAAO,GAAG,IAAI,CAAC,QAAQ,CAAC;;;MAG5B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,GAAG,CAAC,EAAE;QAC9B,IAAI,KAAK,GAAG,OAAO,CAAC,CAAC,CAAC,CAAC;QACvB,IAAI,MAAM,GAAG,KAAK,GAAG,CAAC,CAAC;;;QAGvB,IAAI,CAAC,MAAM,EAAE;UACX,SAAS;SACV;;QAED,IAAI,UAAU,CAAC;QACf,IAAI,OAAO,GAAG,CAAC,EAAE;UACf,UAAU,GAAG,OAAO,CAAC;SACtB,MAAM;UACL,IAAI,KAAK,GAAG,UAAU,EAAE;YACtB,IAAI,KAAK,GAAG,UAAU,EAAE;cACtB,UAAU,GAAG,UAAU,CAAC;aACzB,MAAM;cACL,UAAU,GAAG,KAAK,CAAC;aACpB;WACF,MAAM;YACL,UAAU,GAAG,UAAU,CAAC;WACzB;SACF;;QAED,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,CAAC,CAAC;QAC/B,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC;QACnC,OAAO,CAAC,CAAC,CAAC,GAAG,kBAAkB,GAAG,OAAO,CAAC,MAAM,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC;;OAEpE;;MAED,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;MAEjC,IAAI,CAAC,iBAAiB,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;;KAE7C;IACD,UAAU,EAAE,SAAS,KAAK,EAAE;MAC1B,IAAI,KAAK,CAAC;MACV,IAAI,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC;MAC/B,IAAI,GAAG,GAAG,SAAS,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;MACzD,IAAI,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;MACvB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;MACpB,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC;;MAEpB,KAAK,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;MAE9C,OAAO,KAAK,CAAC;KACd;IACD,UAAU,EAAE,WAAW;MACrB,OAAO,IAAI,CAAC,MAAM,CAAC,SAAS,EAAE,CAAC;KAChC;GACF,CAAC;;;EAGF,OAAO,gBAAgB,CAAC;CACzB,GAAG,CAAC;;;AAGL,IAAI,QAAQ,GAAG,CAAC,SAAS,eAAe,GAAG;;EAEzC,IAAI,UAAU,GAAG,KAAK,CAAC;;EAEvB,IAAI,aAAa,CAAC,iBAAiB,CAAC,KAAK,UAAU,EAAE;IACnD,UAAU,GAAG,gBAAgB,CAAC;GAC/B;;EAED,OAAO,UAAU,CAAC;CACnB,GAAG,CAAC;;;AAGL,IAAI,IAAI,GAAG;EACT,KAAK,EAAE,WAAW;IAChB,IAAI,MAAM,GAAG,EAAE,CAAC;IAChB,IAAI,OAAO,GAAG,SAAS,CAAC,MAAM,CAAC;IAC/B,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,OAAO,EAAE,CAAC,EAAE,EAAE;MAChC,IAAI,GAAG,GAAG,SAAS,CAAC,CAAC,EAAC;MACtB,KAAK,IAAI,GAAG,IAAI,GAAG,EAAE;QACnB,MAAM,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;OACxB;KACF;IACD,OAAO,MAAM,CAAC;GACf;CACF,CAAC;;AAEF,IAAI,OAAO,GAAG,CAAC,SAAS,cAAc,GAAG;;EAEvC,IAAI,WAAW,GAAG,CAAC,SAAS,kBAAkB,GAAG;;IAE/C,SAAS,WAAW,GAAG;MACrB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;KAClB,AACL;IACI,WAAW,CAAC,SAAS,GAAG;MACtB,EAAE,EAAE,SAAS,OAAO,EAAE,QAAQ,EAAE,KAAK,EAAE;QACrC,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;;QAEzB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE;UACpB,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC;SACtB;QACD,MAAM,CAAC,OAAO,CAAC,CAAC,IAAI,EAAE,SAAS,IAAI,EAAE;YACjC,OAAO,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;SACrC,EAAE,CAAC;OACL;MACD,IAAI,EAAE,SAAS,OAAO,EAAE,IAAI,EAAE;QAC5B,IAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;QACzB,IAAI,MAAM,CAAC,OAAO,CAAC,EAAE;UACnB,IAAI,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,MAAM,CAAC;UACjC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,EAAE;YACxB,IAAI,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;YAClC,QAAQ,CAAC,IAAI,CAAC,CAAC;WAChB;SACF;OACF;KACF,CAAC;;IAEF,OAAO,WAAW,CAAC;GACpB,GAAG,CAAC;;;EAGL,IAAI,QAAQ,GAAG,SAAS,KAAK,EAAE;IAC7B,IAAI,QAAQ,GAAG,KAAK,CAAC,SAAS,CAAC;IAC/B,IAAI,WAAW,GAAG,KAAK,CAAC,YAAY,CAAC;IACrC,IAAI,KAAK,GAAG,KAAK,CAAC,MAAM,CAAC;;IAEzB,WAAW,CAAC,EAAE,CAAC,eAAe,EAAE,QAAQ,CAAC,aAAa,EAAE,QAAQ,CAAC,CAAC;IAClE,WAAW,CAAC,EAAE,CAAC,WAAW,EAAE,QAAQ,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;IAC1D,WAAW,CAAC,EAAE,CAAC,eAAe,EAAE,SAAS,IAAI,EAAE;MAC7C,KAAK,CAAC,OAAO,CAAC,eAAe;MAC7B,KAAK,CAAC,OAAO,CAAC,eAAe,CAAC;QAC5B,GAAG,EAAE,IAAI,CAAC,GAAG;QACb,GAAG,EAAE,IAAI,CAAC,GAAG;QACb,QAAQ,EAAE,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,IAAI,KAAK,CAAC,OAAO,CAAC,iBAAiB,CAAC;OACxE,CAAC,CAAC;KACJ,CAAC,CAAC;IACH,KAAK,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;GACnC,CAAC;;;EAGF,SAAS,OAAO,GAAG;IACjB,IAAI,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE,SAAS,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC;IAC1E,IAAI,CAAC,YAAY,GAAG,IAAI,WAAW,EAAE,CAAC;IACtC,IAAI,MAAM,CAAC,QAAQ,CAAC,EAAE;MACpB,IAAI,YAAY,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;MACpC,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,EAAE;QACxC,MAAM,IAAI,KAAK,CAAC,WAAW,EAAE,YAAY,GAAG,4CAA4C,CAAC,CAAC;OAC3F,MAAM;QACL,IAAI,MAAM,GAAG,aAAa,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;;QAEjD,IAAI,CAAC,SAAS,GAAG,IAAI,MAAM,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAC7C,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;OACxC;KACF,MAAM;MACL,IAAI,CAAC,SAAS,GAAG,IAAI,QAAQ,CAAC,MAAM,CAAC,CAAC;MACtC,IAAI,CAAC,MAAM,GAAG,IAAI,KAAK,CAAC,MAAM,CAAC,CAAC;KACjC;IACD,QAAQ,CAAC,IAAI,CAAC,CAAC;GAChB,AACH;;;EAGE,OAAO,CAAC,SAAS,GAAG;IAClB,OAAO,EAAE,WAAW;MAClB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;MAClD,OAAO,IAAI,CAAC;KACb;IACD,UAAU,EAAE,WAAW;MACrB,IAAI,CAAC,MAAM,CAAC,UAAU,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;MAC/E,OAAO,IAAI,CAAC;KACb;IACD,OAAO,EAAE,WAAW;MAClB,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;MAClD,OAAO,IAAI,CAAC;KACb;IACD,UAAU,EAAE,WAAW;MACrB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;MACrD,OAAO,IAAI,CAAC;KACb;IACD,UAAU,EAAE,WAAW;MACrB,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;MACrD,OAAO,IAAI,CAAC;KACb;IACD,SAAS,EAAE,SAAS,MAAM,EAAE;MAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;MAChD,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;MAC1C,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;MACpE,OAAO,IAAI,CAAC;KACb;IACD,OAAO,EAAE,WAAW;MAClB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,EAAE,CAAC,CAAC;MACpE,OAAO,IAAI,CAAC;KACb;IACD,OAAO,EAAE,WAAW;MAClB,OAAO,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,CAAC;KAC9B;IACD,UAAU,EAAE,WAAW;MACrB,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE,CAAC;KACpC;IACD,UAAU,EAAE,SAAS,KAAK,EAAE;;MAE1B,IAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE;QAC1B,OAAO,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;OACtC,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,EAAE;QACrC,OAAO,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC;OACzC,MAAM;QACL,OAAO,IAAI,CAAC;OACb;KACF;GACF,CAAC;;EAEF,OAAO,OAAO,CAAC;;CAEhB,GAAG,CAAC;;;;AAIL,IAAI,cAAc,GAAG;EACnB,MAAM,EAAE,SAAS,MAAM,EAAE;IACvB,OAAO,IAAI,OAAO,CAAC,MAAM,CAAC,CAAC;GAC5B;EACD,QAAQ,EAAE,SAAS,SAAS,EAAE,MAAM,EAAE;IACpC,aAAa,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,MAAM,CAAC;GAC3C;CACF,CAAC;;AAEF,OAAO,cAAc,CAAC;;;CAGrB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IC7sBmBC;;;uBAERC,KAAZ,EAAmB;;oHACZA,KADY;;;;;sCAIC;QACdC,OAAL,GAAeC,QAAQC,MAAR;eACHC,SAASC,WAAT,CAAqB,IAArB;MACR,KAAKL,KAFM,EAAf;QAIKC,OAAL,CAAaK,OAAb,cAA0B,KAAKN,KAA/B;;;;4CAGyBO,UAAU;QAC9BN,OAAL,CAAaK,OAAb,cAA0BC,QAA1B;;;;2BAGQ;UAEPC,sCAAK,OAAO,EAAEC,OAAO,MAAT,EAAiBC,QAAQ,MAAzB,EAAZ,GADD;;;;EAnBwCC;;;AAyB1CZ,aAAaa,SAAb,GAAyB;SAChBC,UAAUC,MADM;OAElBD,UAAUE,KAFQ;OAGlBF,UAAUG;CAHjB;;AAMAjB,aAAakB,YAAb,GAA4B;OACrB,EADqB;WAEjB;QACH,SADG;SAEF,SAFE;SAGF;EALmB;SAOnB;CAPT;;;;"}